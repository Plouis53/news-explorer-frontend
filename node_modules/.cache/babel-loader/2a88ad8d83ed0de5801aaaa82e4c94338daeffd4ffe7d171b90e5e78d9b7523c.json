{"ast":null,"code":"import _slicedToArray from\"/Users/philipper.louis/Practicum Projects/news-explorer-frontend/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import React from\"react\";import Footer from\"./Footer\";import{Route,Routes}from\"react-router-dom\";import LoginModal from\"./LoginModal\";import RegisterModal from\"./RegisterModal\";import ModalWithSuccess from\"./ModalWithSuccess\";import ProtectedRoute from\"./ProtectedRoute\";import SavedNews from\"./SavedNews\";import MainPage from\"./MainPage\";import{getNews}from\"../utils/newsApi\";import MobileMenu from\"./MobileMenu\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";import{Fragment as _Fragment}from\"react/jsx-runtime\";function App(){var _React$useState=React.useState(\"\"),_React$useState2=_slicedToArray(_React$useState,2),activeModal=_React$useState2[0],setActiveModal=_React$useState2[1];var _React$useState3=React.useState(false),_React$useState4=_slicedToArray(_React$useState3,2),isLoggedIn=_React$useState4[0],setIsLoggedIn=_React$useState4[1];var _React$useState5=React.useState({}),_React$useState6=_slicedToArray(_React$useState5,2),currentUser=_React$useState6[0],setCurrentUser=_React$useState6[1];var _React$useState7=React.useState(\"\"),_React$useState8=_slicedToArray(_React$useState7,2),token=_React$useState8[0],setToken=_React$useState8[1];var _React$useState9=React.useState(false),_React$useState10=_slicedToArray(_React$useState9,2),isLoading=_React$useState10[0],setIsLoading=_React$useState10[1];var _React$useState11=React.useState(false),_React$useState12=_slicedToArray(_React$useState11,2),activeSearch=_React$useState12[0],setActiveSearch=_React$useState12[1];var _React$useState13=React.useState([]),_React$useState14=_slicedToArray(_React$useState13,2),newsCards=_React$useState14[0],setNewsCards=_React$useState14[1];var _React$useState15=React.useState(true),_React$useState16=_slicedToArray(_React$useState15,2),isSearchLoading=_React$useState16[0],setIsSearchLoading=_React$useState16[1];var handleSigninClick=function handleSigninClick(){setActiveModal(\"login\");};var handleSignupClick=function handleSignupClick(){setActiveModal(\"signup\");};var handleMobileClick=function handleMobileClick(){setActiveModal(\"mobile\");};var handleOutClick=function handleOutClick(evt){if(evt.target===evt.currentTarget){closeModal();}};var closeModal=function closeModal(){setActiveModal(\"\");};var handleSearchSubmit=function handleSearchSubmit(input){setActiveSearch(true);setIsSearchLoading(true);getNews(input).then(function(data){setNewsCards(data.articles);}).then(function(){setIsSearchLoading(false);}).catch(function(err){console.log(err);});};React.useEffect(function(){var closeWithEsc=function closeWithEsc(evt){if(evt.key===\"Escape\"){closeModal();}};window.addEventListener(\"keydown\",closeWithEsc);return function(){window.removeEventListener(\"keydown\",closeWithEsc);};},[]);return/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsxs(Routes,{children:[/*#__PURE__*/_jsx(Route,{exact:true,path:\"/\",element:/*#__PURE__*/_jsx(MainPage,{handleSearchSubmit:handleSearchSubmit,handleSigninClick:handleSigninClick,activeSearch:activeSearch,cards:newsCards,isSearchLoading:isSearchLoading,isLoggedIn:isLoggedIn,handleMobileClick:handleMobileClick})}),/*#__PURE__*/_jsx(Route,{path:\"/saved-articles\",element:/*#__PURE__*/_jsx(ProtectedRoute,{isLoggedIn:isLoggedIn,children:/*#__PURE__*/_jsx(SavedNews,{isLoggedIn:isLoggedIn,handleSigninClick:handleSigninClick,handleMobileClick:handleMobileClick})})})]}),/*#__PURE__*/_jsx(Footer,{}),activeModal===\"login\"&&/*#__PURE__*/_jsx(LoginModal,{closeModal:closeModal,handleOutClick:handleOutClick,handleSignupClick:handleSignupClick,isLoading:isLoading}),activeModal===\"signup\"&&/*#__PURE__*/_jsx(RegisterModal,{closeModal:closeModal,handleOutClick:handleOutClick,isLoading:isLoading,handleSigninClick:handleSigninClick}),activeModal===\"success\"&&/*#__PURE__*/_jsx(ModalWithSuccess,{closeModal:closeModal,handleOutClick:handleOutClick}),activeModal===\"mobile\"&&/*#__PURE__*/_jsx(MobileMenu,{closeModal:closeModal,handleOutClick:handleOutClick,handleSigninClick:handleSigninClick,isLoggedIn:isLoggedIn})]});}export default App;// import React from \"react\";\n// import \"../blocks/App.css\";\n// function App() {\n//   return <header className=\"header\"></header>;\n// }\n// export default App;","map":{"version":3,"names":["React","Footer","Route","Routes","LoginModal","RegisterModal","ModalWithSuccess","ProtectedRoute","SavedNews","MainPage","getNews","MobileMenu","jsx","_jsx","jsxs","_jsxs","Fragment","_Fragment","App","_React$useState","useState","_React$useState2","_slicedToArray","activeModal","setActiveModal","_React$useState3","_React$useState4","isLoggedIn","setIsLoggedIn","_React$useState5","_React$useState6","currentUser","setCurrentUser","_React$useState7","_React$useState8","token","setToken","_React$useState9","_React$useState10","isLoading","setIsLoading","_React$useState11","_React$useState12","activeSearch","setActiveSearch","_React$useState13","_React$useState14","newsCards","setNewsCards","_React$useState15","_React$useState16","isSearchLoading","setIsSearchLoading","handleSigninClick","handleSignupClick","handleMobileClick","handleOutClick","evt","target","currentTarget","closeModal","handleSearchSubmit","input","then","data","articles","catch","err","console","log","useEffect","closeWithEsc","key","window","addEventListener","removeEventListener","children","exact","path","element","cards"],"sources":["/Users/philipper.louis/Practicum Projects/news-explorer-frontend/src/components/App.js"],"sourcesContent":["import React from \"react\";\nimport Footer from \"./Footer\";\nimport { Route, Routes } from \"react-router-dom\";\nimport LoginModal from \"./LoginModal\";\nimport RegisterModal from \"./RegisterModal\";\nimport ModalWithSuccess from \"./ModalWithSuccess\";\nimport ProtectedRoute from \"./ProtectedRoute\";\nimport SavedNews from \"./SavedNews\";\nimport MainPage from \"./MainPage\";\nimport { getNews } from \"../utils/newsApi\";\nimport MobileMenu from \"./MobileMenu\";\n\nfunction App() {\n  const [activeModal, setActiveModal] = React.useState(\"\");\n  const [isLoggedIn, setIsLoggedIn] = React.useState(false);\n  const [currentUser, setCurrentUser] = React.useState({});\n  const [token, setToken] = React.useState(\"\");\n  const [isLoading, setIsLoading] = React.useState(false);\n  const [activeSearch, setActiveSearch] = React.useState(false);\n  const [newsCards, setNewsCards] = React.useState([]);\n  const [isSearchLoading, setIsSearchLoading] = React.useState(true);\n\n  const handleSigninClick = () => {\n    setActiveModal(\"login\");\n  };\n\n  const handleSignupClick = () => {\n    setActiveModal(\"signup\");\n  };\n\n  const handleMobileClick = () => {\n    setActiveModal(\"mobile\");\n  };\n\n  const handleOutClick = (evt) => {\n    if (evt.target === evt.currentTarget) {\n      closeModal();\n    }\n  };\n\n  const closeModal = () => {\n    setActiveModal(\"\");\n  };\n\n  const handleSearchSubmit = (input) => {\n    setActiveSearch(true);\n    setIsSearchLoading(true);\n\n    getNews(input)\n      .then((data) => {\n        setNewsCards(data.articles);\n      })\n      .then(() => {\n        setIsSearchLoading(false);\n      })\n      .catch((err) => {\n        console.log(err);\n      });\n  };\n\n  React.useEffect(() => {\n    const closeWithEsc = (evt) => {\n      if (evt.key === \"Escape\") {\n        closeModal();\n      }\n    };\n\n    window.addEventListener(\"keydown\", closeWithEsc);\n\n    return () => {\n      window.removeEventListener(\"keydown\", closeWithEsc);\n    };\n  }, []);\n\n  return (\n    <>\n      <Routes>\n        <Route\n          exact\n          path=\"/\"\n          element={\n            <MainPage\n              handleSearchSubmit={handleSearchSubmit}\n              handleSigninClick={handleSigninClick}\n              activeSearch={activeSearch}\n              cards={newsCards}\n              isSearchLoading={isSearchLoading}\n              isLoggedIn={isLoggedIn}\n              handleMobileClick={handleMobileClick}\n            />\n          }\n        />\n        <Route\n          path=\"/saved-articles\"\n          element={\n            <ProtectedRoute isLoggedIn={isLoggedIn}>\n              <SavedNews\n                isLoggedIn={isLoggedIn}\n                handleSigninClick={handleSigninClick}\n                handleMobileClick={handleMobileClick}\n              />\n            </ProtectedRoute>\n          }\n        ></Route>\n      </Routes>\n      <Footer />\n      {activeModal === \"login\" && (\n        <LoginModal\n          closeModal={closeModal}\n          handleOutClick={handleOutClick}\n          handleSignupClick={handleSignupClick}\n          isLoading={isLoading}\n        />\n      )}\n      {activeModal === \"signup\" && (\n        <RegisterModal\n          closeModal={closeModal}\n          handleOutClick={handleOutClick}\n          isLoading={isLoading}\n          handleSigninClick={handleSigninClick}\n        />\n      )}\n      {activeModal === \"success\" && (\n        <ModalWithSuccess\n          closeModal={closeModal}\n          handleOutClick={handleOutClick}\n        />\n      )}\n      {activeModal === \"mobile\" && (\n        <MobileMenu\n          closeModal={closeModal}\n          handleOutClick={handleOutClick}\n          handleSigninClick={handleSigninClick}\n          isLoggedIn={isLoggedIn}\n        />\n      )}\n    </>\n  );\n}\n\nexport default App;\n\n// import React from \"react\";\n// import \"../blocks/App.css\";\n\n// function App() {\n//   return <header className=\"header\"></header>;\n// }\n\n// export default App;\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}